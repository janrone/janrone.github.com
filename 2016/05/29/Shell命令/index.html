<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta name="baidu-site-verification" content="ZMO2TPlYMV" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Shell," />





  <link rel="alternate" href="/atom.xml" title="Janrone's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png?v=5.0.1" />






<meta name="description" content="###（一）文件创建命令
1.touch命令例如：touch abc命令在本地目录中创建了一个名为abc的空文件
2.cp命令cp命令允许我们把一个文件的内容复制到同名或不同名的文件中，复制得到的文件可以在任何目录。
使用cp命令的一个风险    是它会在不提示用户的情况下很容易覆盖掉不同目录中的文件
-r选项支持递归复制。例如：cp -ar /usr/share/doc/. /doc/ 将复制源">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell命令">
<meta property="og:url" content="http://janrone.allone.top/2016/05/29/Shell命令/index.html">
<meta property="og:site_name" content="Janrone's Blog">
<meta property="og:description" content="###（一）文件创建命令
1.touch命令例如：touch abc命令在本地目录中创建了一个名为abc的空文件
2.cp命令cp命令允许我们把一个文件的内容复制到同名或不同名的文件中，复制得到的文件可以在任何目录。
使用cp命令的一个风险    是它会在不提示用户的情况下很容易覆盖掉不同目录中的文件
-r选项支持递归复制。例如：cp -ar /usr/share/doc/. /doc/ 将复制源">
<meta property="og:updated_time" content="2020-01-16T02:52:59.534Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shell命令">
<meta name="twitter:description" content="###（一）文件创建命令
1.touch命令例如：touch abc命令在本地目录中创建了一个名为abc的空文件
2.cp命令cp命令允许我们把一个文件的内容复制到同名或不同名的文件中，复制得到的文件可以在任何目录。
使用cp命令的一个风险    是它会在不提示用户的情况下很容易覆盖掉不同目录中的文件
-r选项支持递归复制。例如：cp -ar /usr/share/doc/. /doc/ 将复制源">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6239181267347178000,
      author: '博主'
    }
  };
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  <title> Shell命令 | Janrone's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-72351220-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Janrone's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">The gold housese in the books .</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tools">
          <a href="/tools" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bookmark"></i> <br />
            
            工具
          </a>
        </li>
      
        
        <li class="menu-item menu-item-videos">
          <a href="/videos" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-youtube-play"></i> <br />
            
            视频
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-eye"></i> <br />
            
            留言
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'if_KrtoyZR9acx37Pibb','2.0.0');
</script>



    </div>
  
</nav>

<div id="ads" style="padding-top:50px">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- janrone.com -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7563402430440865"
     data-ad-slot="8020904262"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7LQ83LN95"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K7LQ83LN95');
</script>
</div>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Shell命令
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-29T20:36:09+08:00" content="2016-05-29">
              2016-05-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index">
                    <span itemprop="name">Shell</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/29/Shell命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/29/Shell命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv">本文共被围观
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>###（一）文件创建命令</p>
<h4 id="1-touch_u547D_u4EE4"><a href="#1-touch_u547D_u4EE4" class="headerlink" title="1.touch命令"></a>1.touch命令</h4><pre><code>例如：touch abc命令在本地目录中创建了一个名为abc的空文件
</code></pre><h4 id="2-cp_u547D_u4EE4"><a href="#2-cp_u547D_u4EE4" class="headerlink" title="2.cp命令"></a>2.cp命令</h4><pre><code>cp命令允许我们把一个文件的内容复制到同名或不同名的文件中，复制得到的文件可以在任何目录。
使用cp命令的一个风险    是它会在不提示用户的情况下很容易覆盖掉不同目录中的文件
-r选项支持递归复制。例如：cp -ar /usr/share/doc/. /doc/ 将复制源目录中所有子目录以及相关文件
</code></pre><h4 id="3-mv_u547D_u4EE4"><a href="#3-mv_u547D_u4EE4" class="headerlink" title="3.mv命令"></a>3.mv命令</h4><pre><code>mv命令实质上市给文件贴上不同的标签，例如：mv file1 file2 命令就是把file1的名字改为file2
mv命令也可以用于目录
</code></pre><h4 id="4-ln_u547D_u4EE4"><a href="#4-ln_u547D_u4EE4" class="headerlink" title="4.ln命令"></a>4.ln命令</h4><pre><code>链接文件允许用户编辑不同目录中的同一个文件
硬链接包含了文件的一个副本。只要硬链接文件是在同一个分区中，则它们的索引号相同 。
ln /etc/samba/smb.conf     smb.conf
软连接起着重定向的作用。当我们打开一个用软链接创建的文件时，则链接把我们重定向到原来的文件。
ln -s /etc/    samba/smb.conf smb.conf
</code></pre><h4 id="5-rm_u547D_u4EE4"><a href="#5-rm_u547D_u4EE4" class="headerlink" title="5.rm命令"></a>5.rm命令</h4><pre><code>-r开关选项可以按递归方式进行
-f开关选项可以覆盖掉任何安全措施  rm -rf  /root/a/b
</code></pre><h4 id="6-_u76EE_u5F55_u521B_u5EFA_u548C_u5220_u9664"><a href="#6-_u76EE_u5F55_u521B_u5EFA_u548C_u5220_u9664" class="headerlink" title="6.目录创建和删除"></a>6.目录创建和删除</h4><pre><code>mkdir和rmdir命令用于创建和删除目录
-p  no error if existing, make parent directories as needed
例如 mkdir -p /test1/test2/test3 
rmdir -p /test1/test2/test3
</code></pre><h4 id="7-alias_u547D_u4EE4"><a href="#7-alias_u547D_u4EE4" class="headerlink" title="7.alias命令"></a>7.alias命令</h4><pre><code>可以用来简化几个命令。对于root用户，默认的别名可以提供一点安全性
</code></pre><p>###（二）文件搜索</p>
<h4 id="1-find_u547D_u4EE4"><a href="#1-find_u547D_u4EE4" class="headerlink" title="1.find命令"></a>1.find命令</h4><pre><code>find / -name name.conf 此命令从根目录开始搜索
find /usr -name name.conf 从/usr目录下开始搜索
</code></pre><h4 id="2-locate_u547D_u4EE4"><a href="#2-locate_u547D_u4EE4" class="headerlink" title="2.locate命令"></a>2.locate命令</h4><pre><code>RHEL允许用户创建一个数据库，它保存了全部的安装文件和目录。
locate命令的缺点是此数据库通常每天只更新一次，这    在/etc/cron.daily/mlocate.cron脚本文件中有记录
这个脚本文件可以直接由root用户从命令行接口中执行。只要输入这个文件的完整目录就行
</code></pre><p>###（三）文本文件的管理</p>
<h4 id="1-cat_u547D_u4EE4"><a href="#1-cat_u547D_u4EE4" class="headerlink" title="1.cat命令"></a>1.cat命令</h4><pre><code>最简单的文本文件读取命令是cat。cat filename命令可以翻页显示filename文件的内容。
</code></pre><h4 id="2-less_u548Cmore_u547D_u4EE4"><a href="#2-less_u548Cmore_u547D_u4EE4" class="headerlink" title="2.less和more命令"></a>2.less和more命令</h4><pre><code>用more filename命令可以翻页显示文本文件的内容，每次一个屏幕从头到尾显示
用less filename命令，我们可以用PAGE UP和PAGE DOWN键向前或向后翻页查看铜件的文本
less命令有几个功能是more和cat这两个命令所没有的。它可以读取用Gzip格式压缩的文本文件，通常这种文件的扩展名为.gz
</code></pre><h4 id="3-head_u548Ctail_u547D_u4EE4"><a href="#3-head_u548Ctail_u547D_u4EE4" class="headerlink" title="3.head和tail命令"></a>3.head和tail命令</h4><pre><code>head 命令读取文件的头部
语法：$ head –n N file 打印前N行 $ head –n -N file 打印除最后N行外的所有行
tail命令总是读取文件的尾部
语法：$ tail –n N file 打印后N行 $ taill –n +N file 打印除了前N行之外的所有行
</code></pre><p>###（四）处理文本流的命令</p>
<p>文本流就是数据的流动。例如，cat filename命令把来自filename的数据流输出到屏幕上。当这些文件变大时，最好先用过滤器命令对这些流进行处理。</p>
<h4 id="1-sort_u547D_u4EE4"><a href="#1-sort_u547D_u4EE4" class="headerlink" title="1.sort命令"></a>1.sort命令</h4><p>可以用多种方法对文件的内容进行排序。默认情况下，sort命令按照字母顺序将文件内容按每行首字符进行排序。</p>
<h4 id="2-grep_u547D_u4EE4"><a href="#2-grep_u547D_u4EE4" class="headerlink" title="2.grep命令"></a>2.grep命令</h4><pre><code>grep命令用于文本搜索，默认读取一个文件的所有行
$ grep match_pattern filename 或者 $ grep “match_pattern” filename
一个grep命令也可以对多个文件进行搜索 $grep &quot;match_text&quot; file1 file2 file3 ...
grep命令通常将match_pattern视为通配符。如果要使用正则表达式，需要添加-E选项——这意味着使用扩展（extended）正则表达式，或者使用默认允许正则表达式的egrep命令。 例如： $ grep -E &quot;[a-z]+&quot; 或者 $egrep &quot;[a-z]&quot; 匹配url的正则表达式 $ egrep -o &quot;http://[a-zA-Z0-9.]+\.[a-zA-z]{2,3}&quot; index.html
--color=atuto 选项：可以在输出行中重点标记出匹配到的单词
-o选项：只输出文件中匹配到的文本部分。 例如：输出每个单词 echo this is a test file | egrep -o &quot;\b[[:alpha:]]+\b&quot;
-v选项：打印包含match_pattern的行之外的所有行
-c选项：统计文件或文本中包含匹配字符串的行数
-b选项： 打印样式匹配所位于的字符或字节偏移，选项-b总是和-o配合使用 例如：$echo gnu is not unix | grep -b -o &quot;not&quot;
其他选项：
1）递归搜索文件 $ grep &quot;text&apos; . -R -n
2)  忽略样式中的大小写 $ echo hello world | grep -i &quot;HELLO&quot;
3)  用grep匹配多个样式 $ grep -e &quot;pattern1&quot; -e &quot;pattern2&quot; 或者 在样式文件中逐行写下需要匹配的样式，然后用选项-f执行grep。 $echo hello this is cool | grep -f pat_file
4)  在grep搜索中包括或排除文件  
只在目录中递归搜索所有的.c和.cpp文件： $ grep &quot;main()&quot; . -r --include *.{c,cpp} 注意：some{string1,string2}会扩展成somestring1 somestring2
在搜索中排除所有的README文件： $ grep &quot;main()&quot; . -r --exclude &quot;README&quot;
如果要排除目录，可以使用 --exclude-dir 选项
如果需要从文件中读取所需要排除的文件列表，使用 --exclude-from FILE
5)  使用0值字节后缀的grep与xargs
在下面的命令序列中，grep输出以0值字节作为终结符的文件（\0）。这可以用grep的-Z选项来指定。xargs -0 读取输入并用0值字节终结符分割文件名：
$ grep &quot;test&quot; file* -lZ | xargs -0 rm 。-Z通常和-l结合使用
6）grep的静默输出：在静默模式（quiet mode）中，grep命令不会向标准输出打印任何输出。它仅是运行命令，然后根据命令执行成功与否返回退回状态。使用-q
7） 打印出匹配文本之前或之后的行
要打印匹配某个结果之后的3行，使用-A选项  -A NUM, --after-context=NUM。例如 $seq 10 | grep   -A 3 5
要打印匹配某个结果之前的3行，使用-B选项 -B NUM, --before-context=NUM。例如 $seq 10 | grep  -B 3 5
要打印匹配某个结果之前以及之后的3行，使用-C选项  -C NUM, -NUM, --context=NUM。例如 $seq 10 | grep-C 3 5
如果有多个匹配，那么以一行“--”作为各匹配之间的定界符。例如 $ echo -e &quot;a\nb\nc\na\nb\nc&quot; | grep a -A 1
</code></pre><h4 id="3-diff_u547D_u4EE4"><a href="#3-diff_u547D_u4EE4" class="headerlink" title="3.diff命令"></a>3.diff命令</h4><pre><code>diff命令可以找出两个文件的差别。
diff /root/ifcfg-eth0 /etc/sysconfig/network-scripts/ifcfg-eth0
</code></pre><h4 id="4-wc_u547D_u4EE4"><a href="#4-wc_u547D_u4EE4" class="headerlink" title="4.wc命令"></a>4.wc命令</h4><pre><code>wc是一个用于统计的工具。它是Word Count(单词统计)的缩写。
1）统计行数$ wc -l file
2）统计单词数 $ wc -w file
3）统计字符数 $ wc -c file
4）当不适用任何选项执行wc时：$ wc file 它只会打印文件的行数、单词数和字符数，彼此之间用制表符分割
</code></pre><h4 id="5-sed_u547D_u4EE4"><a href="#5-sed_u547D_u4EE4" class="headerlink" title="5.sed命令"></a>5.sed命令</h4><pre><code>sed命令是流编辑（stream editor）的缩写符，用于搜索并修改文件中指定的单词甚至文本流。
如果要替换所有内容，需要在命令尾部加上参数g 其方法如下：$ sed &apos;s/pattern/replace_string/g&apos; file 后缀/g意味着sed会替换每一处匹配。但是有时候我们不需要替换前N处匹配，而是需要替换剩下的匹配。当需要从第N处匹配开始替换时，可以使用/Ng 例如： $echo this thisthisthisthis | sed &apos;s/this/THIS/4g&apos;
sed常用组合命令
1）移除空白行
2) 已匹配字符串标记&amp; 
$ echo this is an example | sed &apos;s/\w\+/[&amp;]/g&apos; 正则表达式 \w\+ 匹配每一个单词，然后我们用[&amp;]替换它，&amp;对应于之前所匹配到的单词
3) 子串匹配标记\1  &amp;代表匹配给定样式的字符串
4）组合多个表达式 
5) 引用
sed可以替换给定文本中的字符串。 $ sed &apos;s/pattern/replace_string/&apos; file
-i选项：将替换结构应用于原文件。 例如：$ sed -i &apos;s/text/replace/&apos; file  等价于 $ sed &apos;s/text/replace/&apos; file &gt; newfile    ;   $mv newfile file
 $ sed &apos;/^$/d&apos; file
在sed中，用&amp;标记匹配样式的字符串，就能够在替换字符串时使用已匹配的内容
$ echo seven EIGNT | sed &apos;s/\([a-z]\+\) \([A-Z]\+\)/\2 \1/&apos;   ([a-z]\+\)匹配第一个单词 ([A-Z]\+\)匹配第二个单词 \1和、2用来引用它们。这种医用被称为向后引用（back  referencing）。在替换部分，它们的次序被更改为 \2  \1 因此结果就呈现出逆序的形式。
$ sed &apos;expression&apos; | sed &quot;expression&apos; 等价于 $ sed  &apos;expression; expression&apos;
sed表达式通常用单引号引用。不过也可以使用双引号。双引号会通过对表达式求值来对其进行扩展。当我们想在sed表达式中使用一些变量字符串时，双引号就有用武之地了。例如： $  text=hello  $echo hello world | sed &quot;s/$text/HELLO/&quot;  结果HELLO word， $text的求值结果是hello
</code></pre><h4 id="6-awk_u547D_u4EE4"><a href="#6-awk_u547D_u4EE4" class="headerlink" title="6.awk命令"></a>6.awk命令</h4><pre><code>一个awk脚本通常由3部分组成： BEGIN语句块、END语句块和能够使用模式匹配的通用语句块。
例如 echo -e &quot;line1\nline2&quot; | awk  &apos;BEGIN {print &quot;Start&quot;} {print} END{print &quot;End&quot;}‘
关于print，需要记住两件重要的事情：当print的参数是以逗号进行分割时，参数打印时则以空格作为定界符；在awk的print语句中，双引号是被当做拼接操作符（concatenation operator）使用的。例如：
$ echo | awk &apos;{ var1=&quot;v1&quot;; var2=&quot;v2&quot;; var3=&quot;v3&quot;; \ print var1,var2,var3;}&apos; 输出 v1 v2 v3
$ echo | awk &apos;{  var1=&quot;v1&quot;; var2=&quot;v2&quot;; var3=&quot;v3&quot;; \ print var1 &quot;-&quot; var2 &quot;-&quot; var3;}&apos;  输出 v1-v2-v3
补充内容
1）特殊变量
NF：表示字段数量（number of fields ），在执行过程中对应于当前的字段数。
$0 ：这个变量包含执行过程中当前行的文本内容
$1 ：这个变量包含第一个字段的文本内容
$2 ：这个变量包含第二个字段的文本内容
例如 我们可以用print $NF打印一行中最后一个字段，用$（NF-1）打印倒数第二个字段，其他字段依次类推即可。
要打印从M行到N行这个范围内的所有文本，语法 $ awk &apos;NR==M, NR==N&apos; filename
要打印处于start_pattern与end_pattern之间的文本，语法 $ awk &apos;/start_pattern/, /end_pattern/&apos; filename 用于awk中的样式为正则表达式
2）将外部变量值传递给awk
还有另一种灵活的方法可以将多个外部变量传递给awk 例如：
$ var1=&quot;Variable1&quot; ;var2=&quot;Variable2&quot; $ echo | awk &apos;{ print v1,v2 }&apos; v1=$var1 v2=$var2
在上面的方法中，变量之间用空格分隔，以键-值对的形式（v1=$var1 v2=$var2 ）作为awk的命令行参数紧随在BEGIN、{ }和END语句块之后。
3）用getline读取行
例如：seq 5| awk &apos;BEGIN { getline;print $0}{print $0}&apos;
4）用样式对awk处理的行进行过滤 $ awk &apos;NR &lt; 5&apos; # 行号小于5的行 $ awk &apos;NR==1,NR==4&apos; #行号在1到5之间的行 $ awk &apos;/linux/&apos; # 包含样式linux的行（可以用正则表达式来指定样式） $ awk &apos;!/linux/&apos; # 不包含样式linux的行 5）设置字段定界符 在BEGIN语句块中则可以用FS=“delimiter” 设置输出字段的定界符 $ awk &apos;BEGIN {FS=&quot;:&quot;} {print $NF }&apos; /etc/passwd 6) 从awk中读取命令输出 awk支持以文本作为索引的关联数组 7) 在awk中使用循环 awk有很多内建的字符串控制函数： length(String) index(string,search_string) split(string,array,delimiter) substr(string,start-position,end-position) sub( regex, replacement_str, string) 将正则表达式匹配到的第一处内容替换成replacement_str gsub( regex, replacement_str, string) 将正则表达式匹配到的所有内容替换成replacement_str match( regex, string) 检查正则表达式是否能够匹配字符串。如果能够匹配，返回非0值；否则，返回0。match()有两个相关的特殊变量，RSTART包含正则表达式所匹配内容的起始位置，而RLENGTH包含正则表达式所匹配内容的长度。
awk被设计用于数据流。它非常有趣，其原因就在于它可以对列和行进行操作。
awk脚本的结构基本如下所示： awk &apos; BEGIN { print &quot;start&quot; } pattern { commands } END { print &quot;end&quot; } file
NR：表示记录数量（number of records），在执行过程中对应于当前行号。
。。。
$N ：这个变量包含第N个字段的文本内容
例如：$var=10000 $ echo | awk -v VARIABLE=$var &apos;{ print VARIABLE }&apos;
通常，grep默认读取一个文件的所有行。如果只想读取某一行，可以使用geiline函数。有时候，我们需要从BEGIN语句块中读取第一行。
我们可以为需要处理的行指定一些条件，例如：
默认的字段定界符是空格。我们可以用-F “delimiter”明确指定一个界定符： $ awk -F: &apos;{ print $NF }&apos; /etc/passwd
$echo | awk &apos;{ &quot;grep root /etc/password&quot; | getline cmdout; print cmdout }&apos; 通过使用getline，能够将外部shell命令的输出读入变量cmdout
在awk中可以使用for循环，其格式： for( i=0;i&lt;10;i++) { print $i; } 或者 for( i in array) { print array[i] }
</code></pre>
      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>梦想还是要有的，万一实现了呢？</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechat_donate.png" alt="Janrone WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/wechat_donate.png" alt="Janrone Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Shell/" rel="tag">#Shell</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/05/26/Node与Express开发笔记一/" rel="next" title="Node与Express开发笔记一">
                <i class="fa fa-chevron-left"></i> Node与Express开发笔记一
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/15/Android Studio 插件推荐/" rel="prev" title="Android Studio插件推荐">
                Android Studio插件推荐 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/05/29/Shell命令/"
           data-title="Shell命令" data-url="http://janrone.allone.top/2016/05/29/Shell命令/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar92.png"
               alt="Janrone" />
          <p class="site-author-name" itemprop="name">Janrone</p>
          <p class="site-description motion-element" itemprop="description">The gold housese in the books .</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">35</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">26</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/janrone" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://hujiaweibujidao.github.io/" title="家威" target="_blank">家威</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.figotan.org/" title="非戈" target="_blank">非戈</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://quanqi.org/" title="圈齐" target="_blank">圈齐</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.zhaiyifan.cn/" title="markzhai" target="_blank">markzhai</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-touch_u547D_u4EE4"><span class="nav-number">1.</span> <span class="nav-text">1.touch命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-cp_u547D_u4EE4"><span class="nav-number">2.</span> <span class="nav-text">2.cp命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-mv_u547D_u4EE4"><span class="nav-number">3.</span> <span class="nav-text">3.mv命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-ln_u547D_u4EE4"><span class="nav-number">4.</span> <span class="nav-text">4.ln命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-rm_u547D_u4EE4"><span class="nav-number">5.</span> <span class="nav-text">5.rm命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-_u76EE_u5F55_u521B_u5EFA_u548C_u5220_u9664"><span class="nav-number">6.</span> <span class="nav-text">6.目录创建和删除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-alias_u547D_u4EE4"><span class="nav-number">7.</span> <span class="nav-text">7.alias命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-find_u547D_u4EE4"><span class="nav-number">8.</span> <span class="nav-text">1.find命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-locate_u547D_u4EE4"><span class="nav-number">9.</span> <span class="nav-text">2.locate命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-cat_u547D_u4EE4"><span class="nav-number">10.</span> <span class="nav-text">1.cat命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-less_u548Cmore_u547D_u4EE4"><span class="nav-number">11.</span> <span class="nav-text">2.less和more命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-head_u548Ctail_u547D_u4EE4"><span class="nav-number">12.</span> <span class="nav-text">3.head和tail命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-sort_u547D_u4EE4"><span class="nav-number">13.</span> <span class="nav-text">1.sort命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-grep_u547D_u4EE4"><span class="nav-number">14.</span> <span class="nav-text">2.grep命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-diff_u547D_u4EE4"><span class="nav-number">15.</span> <span class="nav-text">3.diff命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-wc_u547D_u4EE4"><span class="nav-number">16.</span> <span class="nav-text">4.wc命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-sed_u547D_u4EE4"><span class="nav-number">17.</span> <span class="nav-text">5.sed命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-awk_u547D_u4EE4"><span class="nav-number">18.</span> <span class="nav-text">6.awk命令</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Janrone</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="powered-by">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

<div class="theme-info">
  Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"janrone"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  





  
  
  

  

  

</body>
</html>
